U
    /½|_`  ã                   @   s@   d dl mZmZ d dlmZ dd„ Zdd„ Zdd„ Zd	d
„ ZdS )é    )ÚrenderÚHttpResponse)ÚUserc                 C   s
   t | dƒS )Nz
index.html)r   )Úrequest© r   ú@C:\Users\Naman\Desktop\CREDIT MANAGEMENT-MASTER\bankapp\views.pyÚhome   s    r   c                 C   s   t j ¡ }d|i}t| d|ƒS )NÚusersztransfer.html)r   ÚobjectsÚallr   )r   r	   Úcontextr   r   r   Útransfer_credit   s    
r   c                 C   s2   t j ¡ }t jj|d ¡ }||dœ}t| d|ƒS )N©Úname)Úuserr	   z	user.html)r   r
   r   ÚfilterÚfirstr   )r   r   r	   r   r   r   r   r   r      s    
şr   c                 C   sÒ   | j  d¡}| j  d¡}tjj|d ¡ }tjj|d ¡ }|jt|ƒ }|jt|ƒ }|jt|ƒkr¨d}tjj|jd}	||	_|	 	¡  tjj|jd}
||
_|
 	¡  nd}tj 
¡ }|||||dœ}t| d|ƒS )NÚ	recipientÚcreditr   TF)Ústatusr   r   r   r	   zconfirmation.html)ÚPOSTÚgetr   r
   r   r   Úcurrent_creditÚintr   Úsaver   r   )r   r   r   r   ÚsenderÚreceiverZUpdatedReceiverCreditZUpdatedSenderCreditr   ZUpdateSenderZUpdateReceiverr	   r   r   r   r   Úconfirmation   s.    

ûr   N)	Zdjango.shortcutsr   r   Zbankapp.modelsr   r   r   r   r   r   r   r   r   Ú<module>   s
   	